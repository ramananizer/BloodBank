<div class="container">

  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-9">
      <div class="col-md-8">
        <span *ngIf="!isPublic">My requirements </span>
        <span *ngIf="isPublic">Public requirements </span>
      </div>
      <div class="col-md-1">
        <a class="glyphicon glyphicon-plus"  (click)="postRequirement()" >></a>
      </div>
      <!--[routerLink]="[{ outlets: { popup: ['/postRequirement'] } }]"-->
      <!--routerLink="/postRequirement"-->
      <!--[routerLink]="[{ outlets: { popup: ['postRequirement'] } }]"-->
      <!--(click)="postRequirement()"-->
    </div>
  </div>
  
   
    <!--<li *ngFor="let requirement of myRequirements">
        <div class="panel panel-primary">
          <div class="panel-heading">Blood Group {{requirement.bloodGroup}}</div>
          <div class="panel-body">
            Required for {{requirement.name}} at {{requirement.address}}
           </div>
        </div>
    </li>-->

  <div class="panel-group" id="accordion">
    <div class="panel panel-default" *ngFor="let requirement of myRequirements;let i = index">
      <div class="panel-heading" (click) = "current = i">
        <h4 class="panel-title">
          <span>
              <i class='glyphicon' 
                [class.glyphicon-chevron-right] = "i != current"
                [class.glyphicon-chevron-down] = "i == current" ></i> 
              Required : {{requirement.bloodGroup}}
          </span>
          <div class = "pull-right"><a (click)="respond(i)">Respond</a></div>
        </h4>
      </div>
      
      <div *ngIf='responseItem == i && current == i' style="box-shadow: 5px 10px #888888">
         <div class="panel panel-default" style="margin: 10px">
            <div class="panel-heading">
              <h4 class="panel-title">
                 Response header
              </h4>
            </div>
            <div class="panel-body">
             <form name="form" (ngSubmit)="f.form.valid && postResponse()" #f="ngForm" novalidate>
                <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !address.valid }">
                <textarea class="form-control"  id="response"
                          name="response"
                          [(ngModel)]="responseModel.description"></textarea>
              </div>
              <div class="form-group">
                <button type="submit" [disabled]="loading" class="btn btn-primary pull-right" >Post</button>
                <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
              
            </div>
             </form>
        </div>
      </div>
      </div>
      <div [class.collapse]='current != i'>
        <div class="panel-body">{{requirement.description}}</div>
      </div>
    </div>
  </div>


 
  </div>
  

